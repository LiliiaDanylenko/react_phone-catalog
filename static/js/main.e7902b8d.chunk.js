(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){},34:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var a=c(24),s=c.n(a),n=(c(30),c(5)),r=c(3),i=c(1),l=c.n(i),o=c(7),j=c.n(o),d=(c(31),c(4));function b(e,t){var c=Object(i.useState)((function(){var c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(a){return localStorage.removeItem(e),t}})),a=Object(d.a)(c,2),s=a[0],n=a[1];return[s,function(t){localStorage.setItem(e,JSON.stringify(t)),n(t)}]}var m=c(0),u=l.a.createContext({favorites:[],setFavorites:function(){},cart:[],setCart:function(){}}),_=function(e){var t=e.children,c=b("favorites",[]),a=Object(d.a)(c,2),s=a[0],n=a[1],r=b("cart",[]),i=Object(d.a)(r,2),l={favorites:s,setFavorites:n,cart:i[0],setCart:i[1]};return Object(m.jsx)(u.Provider,{value:l,children:t})},h=c(25),O=c.n(h);c(34);function x(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}function p(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(d.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}var g=function(){var e=Object(r.n)().pathname,t=Object(n.d)(),c=Object(d.a)(t,2),a=c[0],s=c[1],l=Object(i.useRef)(null),o=Object(i.useState)(a.get("query")||""),b=Object(d.a)(o,2),u=b[0],_=b[1];Object(i.useEffect)((function(){_(a.get("query")||""),s(p(a,{query:a.get("query")||null}))}),[e]);var h=Object(i.useCallback)(O()(s,1e3),[e]);return Object(m.jsxs)("div",{className:"search",children:[Object(m.jsx)("input",{ref:l,value:u,type:"text",className:"search__input",placeholder:"Search in ".concat(e.slice(1),"..."),onChange:function(e){var t=e.target.value;if(!t)return _(""),void h(p(a,{query:null}));_(t),h(p(a,{query:t}))},onBlur:function(e){!e.relatedTarget||e.relatedTarget.id}}),Object(m.jsx)("button",{type:"button",id:"button",className:j()("search__button",{"search__button--focus":!!u}),onClick:function(){var e;if(u)return _(""),void s(p(a,{query:null}));null===(e=l.current)||void 0===e||e.focus()}})]})},v=function(e){var t=e.isActive;return j()("nav__link",{"active-link":t})},f=function(e){var t=e.isActive;return j()("header__icon",{"active-link":t})},N=function(){var e=Object(i.useContext)(u),t=e.favorites,c=e.cart,a=Object(r.n)(),s=a.pathname,l=a.search,o=function(){window.scrollTo({top:0,behavior:"smooth"})};return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("header",{className:"header",children:[Object(m.jsxs)("div",{className:"header__left",children:[Object(m.jsx)("div",{className:"logo header__logo",children:Object(m.jsx)(n.b,{to:"/",className:"logo__link",children:Object(m.jsx)("img",{src:"./image/logo.svg",alt:"logo"})})}),"/cart"!==s&&Object(m.jsxs)("nav",{className:"nav",children:[Object(m.jsx)(n.c,{to:"/",className:v,children:"Home"}),Object(m.jsx)(n.c,{to:"/phones",className:v,children:"Phones"}),Object(m.jsx)(n.c,{to:"/tablets",className:v,children:"Tablets"}),Object(m.jsx)(n.c,{to:"/accessories",className:v,children:"Accessories"})]})]}),Object(m.jsxs)("div",{className:"header__right",children:[("/phones"===s||"/tablets"===s||"/accessories"===s||"/favorites"===s)&&Object(m.jsx)(g,{}),"/cart"!==s&&Object(m.jsxs)(n.c,{to:"/favorites",className:f,children:[Object(m.jsx)("img",{src:"./image/favorites.svg",alt:"favorites",className:"header__image"}),"/favorites"===s&&0!==t.length&&Object(m.jsx)("span",{className:"header__count",children:t.length})]}),Object(m.jsxs)(n.c,{to:"/cart",className:f,state:{pathname:s,search:l},children:[Object(m.jsx)("img",{src:"./image/cart.svg",alt:"cart",className:"header__image"}),"/cart"===s&&0!==c.length&&Object(m.jsx)("span",{className:"header__count",children:c.length})]})]})]}),Object(m.jsx)(r.b,{}),Object(m.jsx)("footer",{className:"footer",children:Object(m.jsxs)("div",{className:"footer__content",children:[Object(m.jsx)(n.b,{to:"/",className:"logo",children:Object(m.jsx)("img",{src:"./image/logo.svg",alt:"logo"})}),Object(m.jsxs)("nav",{className:"nav",children:[Object(m.jsx)(n.b,{to:"https://github.com/LiliiaDanylenko",className:"nav__link nav__link--footer",children:"Github"}),Object(m.jsx)(n.b,{to:"/contacts",className:"nav__link nav__link--footer",children:"Contacts"}),Object(m.jsx)(n.b,{to:"/rights",className:"nav__link nav__link--footer",children:"Rights"})]}),Object(m.jsxs)("div",{className:"back-to-top",children:[Object(m.jsx)(n.b,{to:{pathname:s},className:"back-to-top__text",onClick:o,children:"Back to top"}),Object(m.jsx)(n.b,{to:{pathname:s},className:"icon icon--back-to-top",onClick:o,children:Object(m.jsx)("img",{src:"./image/arrow-up.svg",alt:"arrow",className:"icon__arrow"})})]})]})})]})},y=(c(36),["/_new/img/banner-phones.png","/_new/img/banner-tablets.png","/_new/img/banner-accessories.png"]),w=1040,k=function(){var e=Object(i.useState)(y[0]),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(i.useState)(0),r=Object(d.a)(s,2),l=r[0],o=r[1],b=Object(i.useCallback)((function(){var e=y.findIndex((function(e){return e===c}));y.length-1===e?(a(y[0]),o(0)):(a(y[e+1]),o(l+w))}),[c,l]),u=Object(i.useCallback)((function(){var e=y.findIndex((function(e){return e===c}));0===e?(a(y[y.length-1]),o((y.length-1)*w)):(a(y[e-1]),o(l-w))}),[c,l]);return Object(i.useEffect)((function(){var e=setInterval(b,5e3);return function(){return clearInterval(e)}}),[c,l]),Object(m.jsxs)("div",{className:"slider",children:[Object(m.jsxs)("div",{className:"slider__wrapper",children:[Object(m.jsx)("button",{type:"button",className:"slider__btn slider__btn-prev",onClick:u,children:Object(m.jsx)("img",{src:"/image/arrow-left.svg",alt:""})}),Object(m.jsx)("div",{className:"slider__image-wrapper",children:y.map((function(e){var t=e.split("-")[1].split(".")[0];return Object(m.jsx)("div",{style:{transform:"translateX(-".concat(l,"px)"),transition:"transform 1.5s"},children:Object(m.jsx)(n.b,{to:"/".concat(t),children:Object(m.jsx)("img",{src:e,alt:e,className:"slider__image"})})},e)}))}),Object(m.jsx)("button",{type:"button",className:"slider__btn slider__btn-next",onClick:b,children:Object(m.jsx)("img",{src:"/image/arrow-right.svg",alt:""})})]}),Object(m.jsx)("div",{className:"slider__dots",children:y.map((function(e,t){return Object(m.jsx)("button",{type:"button",className:j()("slider__button",{"slider__button-active":c===e}),onClick:function(){return function(e){a(y[e]),o(e*w)}(t)}},e)}))})]})},C=(c(37),c(8)),S=(c(38),function(e){var t=e.card,c=e.info,a=Object(i.useContext)(u),s=a.favorites,n=a.setFavorites,r=a.cart,l=a.setCart,o=Object(i.useMemo)((function(){return r.find((function(e){return e.id===t.id}))}),[r]);return Object(m.jsxs)("div",{className:"card-buttons",children:[Object(m.jsx)("button",{type:"button",className:j()("card-buttons__cart",{"card-buttons__cart--detail":"detail"===c,"card-buttons__cart--selected":o}),onClick:function(){o||l([].concat(Object(C.a)(r),[{id:t.id,quantity:1,product:t}]))},disabled:!!o,children:o?"Added to cart":"Add to cart"}),Object(m.jsx)("button",{type:"button",className:j()("card-buttons__favorite",{"card-buttons__favorite--detail":"detail"===c,"card-buttons__favorite--selected":s.find((function(e){return e.id===t.id}))}),onClick:function(){s.find((function(e){return e.id===t.id}))?n(s.filter((function(e){return e.id!==t.id}))):n([].concat(Object(C.a)(s),[t]))},"data-cy":"addToFavorite"})]})}),P=function(e){var t=e.card,c=Object(r.n)(),a=c.pathname,s=c.search,i=t.image,l=t.name,o=t.price,j=t.fullPrice,d=t.screen,b=t.capacity,u=t.ram,_=t.phoneId;return Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)(n.b,{to:"/phones/".concat(_),state:{pathname:a,search:s},children:Object(m.jsx)("img",{className:"card__image",src:"./_new/".concat(i),alt:l})}),Object(m.jsx)(n.b,{to:"/phones/".concat(_),state:{pathname:a,search:s},className:"card__name",children:l}),Object(m.jsxs)("div",{className:"card__prices",children:[Object(m.jsx)("h2",{className:"card__price",children:"$".concat(o)}),0!==j&&Object(m.jsx)("div",{className:"card__full-price",children:"$".concat(j)})]}),Object(m.jsx)("div",{className:"card__line"}),Object(m.jsxs)("div",{className:"card__info-wrapper",children:[Object(m.jsxs)("div",{className:"card__info",children:[Object(m.jsx)("div",{className:"card__char-name",children:"Screen"}),Object(m.jsx)("div",{className:"card__char",children:d})]}),Object(m.jsxs)("div",{className:"card__info",children:[Object(m.jsx)("div",{className:"card__char-name",children:"Capacity"}),Object(m.jsx)("div",{className:"card__char",children:b.replace("GB"," GB")})]}),Object(m.jsxs)("div",{className:"card__info",children:[Object(m.jsx)("div",{className:"card__char-name",children:"RAM"}),Object(m.jsx)("div",{className:"card__char",children:u.replace("GB"," GB")})]})]}),Object(m.jsx)(S,{card:t,info:"card"})]})},A=c(11),q="https://mate-academy.github.io/react_phone-catalog/_new/products",B=function(){return fetch("".concat(q,".json")).then((function(e){if(!e.ok)throw new Error;return e.json()}))},F=function(){return B().then((function(e){return e.filter((function(e){return"phones"===e.category}))}))},I=272,M=1136,E=l.a.memo((function(e){var t=e.section,c=Object(r.r)().pathname,a=Object(i.useState)([]),s=Object(d.a)(a,2),l=s[0],o=s[1],b=Object(i.useState)(0),u=Object(d.a)(b,2),_=u[0],h=u[1],O=Object(i.useState)(0),x=Object(d.a)(O,2),p=x[0],g=x[1],v=Object(i.useState)(!0),f=Object(d.a)(v,2),N=f[0],y=f[1],w=Object(i.useState)(!1),k=Object(d.a)(w,2),S=k[0],q=k[1];Object(i.useEffect)((function(){switch(t){case"Hot prices":B().then((function(e){return Object(C.a)(e).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))})).then((function(e){o(e),h(288*(e.length-1)+I)}));break;case"Brand new models":B().then((function(e){var t=Object(C.a)(e).sort((function(e,t){return t.year-e.year}));return t.filter((function(e){return t[0].year===e.year})).map((function(e){return Object(A.a)(Object(A.a)({},e),{},{fullPrice:0})}))})).then((function(e){o(e),h(288*(e.length-1)+I)}));break;case"You may also like":B().then((function(e){return Object(C.a)(e).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))})).then((function(e){o(e),h(288*(e.length-1)+I)}))}}),[]);return Object(m.jsxs)("div",{"data-cy":"cardsContainer",children:[Object(m.jsxs)("div",{className:"main__upper-wrapper",children:[Object(m.jsx)("h1",{className:"main__title",children:t}),Object(m.jsxs)("div",{className:"main__button-slider",children:[Object(m.jsx)(n.b,{to:{pathname:c},className:j()("icon",{"icon--disabled":N}),onClick:function(e){N?e.preventDefault():(q(!1),g((function(e){var t=e-M-16;return t>0?t:(y(!0),0)})))},children:N?Object(m.jsx)("img",{src:"/image/arrow-left-disabled.svg",alt:"arrow",className:"icon__arrow"}):Object(m.jsx)("img",{src:"/image/arrow-left.svg",alt:"arrow",className:"icon__arrow"})}),Object(m.jsx)(n.b,{to:{pathname:c},className:j()("icon",{"icon--disabled":S}),onClick:function(e){S?e.preventDefault():(y(!1),g((function(e){var t=e+M+16;return _-t>M?t:(q(!0),_-M)})))},children:S?Object(m.jsx)("img",{src:"/image/arrow-right-disabled.svg",alt:"arrow",className:"icon__arrow"}):Object(m.jsx)("img",{src:"/image/arrow-right.svg",alt:"arrow",className:"icon__arrow"})})]})]}),l.length>0&&Object(m.jsx)("div",{className:"phones",children:l.map((function(e){return Object(m.jsx)("div",{style:{transform:"translateX(-".concat(p,"px)"),transition:"transform 1.5s"},children:Object(m.jsx)(P,{card:e},e.id)},e.id)}))})]})})),L=function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(i.useEffect)((function(){F().then((function(e){a(e)}))}),[]),Object(m.jsxs)("main",{className:"main",children:[Object(m.jsx)("section",{className:"main__slider",children:Object(m.jsx)(k,{})}),Object(m.jsx)("section",{className:"main__section",children:Object(m.jsx)(E,{section:"Hot prices"})}),Object(m.jsxs)("section",{className:"main__section","data-cy":"categoryLinksContainer",children:[Object(m.jsx)("div",{className:"main__upper-wrapper",children:Object(m.jsx)("h1",{className:"main__title",children:"Shop by category"})}),Object(m.jsxs)("div",{className:"category",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(n.b,{to:"/phones",className:"category__item",children:Object(m.jsx)("img",{src:"./_new/img/category-phones.png",alt:"phones",className:"category__image"})}),Object(m.jsx)(n.b,{to:"/phones",children:Object(m.jsx)("h3",{className:"category__title",children:"Mobile phones"})}),Object(m.jsx)("p",{className:"category__count",children:"".concat(c.length," models")})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(n.b,{to:"/tablets",className:"category__item",children:Object(m.jsx)("img",{src:"./_new/img/category-tablets.png",alt:"tablets",className:"category__image"})}),Object(m.jsx)(n.b,{to:"/tablets",children:Object(m.jsx)("h3",{className:"category__title",children:"Tablets"})}),Object(m.jsx)("p",{className:"category__count",children:"0 models"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(n.b,{to:"/accessories",className:"category__item",children:Object(m.jsx)("img",{src:"./_new/img/category-accessories.png",alt:"accessories",className:"category__image"})}),Object(m.jsx)(n.b,{to:"/accessories",children:Object(m.jsx)("h3",{className:"category__title",children:"Accessories"})}),Object(m.jsx)("p",{className:"category__count",children:"0 models"})]})]})]}),Object(m.jsx)("section",{className:"main__section",children:Object(m.jsx)(E,{section:"Brand new models"})})]})},R=function(){return Object(m.jsxs)("main",{className:"main main--not-found",children:[Object(m.jsx)("h1",{className:"main__title main__title--development",children:"Page not found"}),Object(m.jsxs)("div",{className:"main__text",children:["Perhaps you would like to navigate to the",Object(m.jsx)(n.b,{to:"/",children:Object(m.jsx)("span",{className:"main__span",children:" Home page "})}),"?"]})]})},T="16",D=l.a.memo((function(e){var t=e.products,c=Object(n.d)(),a=Object(d.a)(c,1)[0],s=+(a.get("page")||"1"),r=+(a.get("perPage")||T);return Object(m.jsx)("div",{className:"phones phones--list","data-cy":"productList",children:t.slice(s*r-r,s*r).map((function(e){return Object(m.jsx)(P,{card:e},e.id)}))})})),G=(c(39),function(){return Object(m.jsx)("div",{className:"loader","data-cy":"loader",children:Object(m.jsx)("div",{className:"loader__content"})})}),H=(c(40),l.a.memo((function(e){var t=e.currentPage,c=Object(r.n)().pathname.split("/");return Object(m.jsx)("div",{className:"breadcrumbs","data-cy":"breadCrumbs",children:c.map((function(e,a){if(0===a)return Object(m.jsx)(l.a.Fragment,{children:Object(m.jsx)(n.b,{to:"/",className:"breadcrumbs__home",children:Object(m.jsx)("img",{src:"/image/home.svg",alt:"home"})})},e);if(a===c.length-1&&t)return Object(m.jsxs)(l.a.Fragment,{children:[Object(m.jsx)("img",{src:"/image/arrow-right-disabled.svg",alt:"arrow-right"}),Object(m.jsx)(n.b,{to:"/".concat(c.slice(1,a+1).join("/")),className:j()("breadcrumbs__text",{"breadcrumbs__text--category":c.length>1&&1===a}),children:t})]},e);var s=e.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ");return Object(m.jsxs)(l.a.Fragment,{children:[Object(m.jsx)("img",{src:"/image/arrow-right-disabled.svg",alt:"arrow-right"}),Object(m.jsx)(n.b,{to:"/".concat(c.slice(1,a+1).join("/")),className:j()("breadcrumbs__text",{"breadcrumbs__text--category":c.length>2&&1===a}),children:s})]},e)}))})}))),$=function(){return Object(m.jsx)("main",{className:"main",children:Object(m.jsxs)("section",{className:"main__no-results",children:[Object(m.jsx)("h1",{className:"main__title main__title--development",children:"Sorry! No results found yet..."}),Object(m.jsx)("img",{src:"/image/noResults.png",alt:"No results",className:"main__no-results-image"})]})})},J=(c(41),l.a.memo((function(e){var t=e.countPagination,c=Object(n.d)(),a=Object(d.a)(c,1)[0],s=a.get("page")||"1",r="1"===s,i=s===t.toString(),l=function(e){var t=a.get("page"),c=t&&+t?+t:1;switch(e){case"prev":return p(a,{page:(c-1).toString()});case"next":return p(a,{page:(c+1).toString()});default:return a}};return Object(m.jsxs)("div",{className:"pagination",children:[Object(m.jsx)(n.b,{to:{search:l("prev").toString()},className:j()("icon",{"icon--disabled":r}),onClick:function(e){return r&&e.preventDefault()},"data-cy":"paginationLeft",children:r?Object(m.jsx)("img",{src:"/image/arrow-left-disabled.svg",alt:"arrow",className:"icon__arrow"}):Object(m.jsx)("img",{src:"/image/arrow-left.svg",alt:"arrow",className:"icon__arrow"})}),x(1,t).map((function(e){return Object(m.jsx)(n.b,{to:{search:p(a,{page:e.toString()})},className:j()("pagination__icon",{"pagination__icon--selected":s===e.toString()}),children:e},e)})),Object(m.jsx)(n.b,{to:{search:l("next").toString()},className:j()("icon",{"icon--disabled":i}),onClick:function(e){return i&&e.preventDefault()},"data-cy":"paginationRight",children:i?Object(m.jsx)("img",{src:"/image/arrow-right-disabled.svg",alt:"arrow",className:"icon__arrow"}):Object(m.jsx)("img",{src:"/image/arrow-right.svg",alt:"arrow",className:"icon__arrow"})})]})}))),Y={Newest:"age",Alphabetically:"name",Cheapest:"price"},U=["4","8","16","All"],W=function(){var e=Object(n.d)(),t=Object(d.a)(e,1)[0],c=Object(i.useState)([]),a=Object(d.a)(c,2),s=a[0],r=a[1],l=Object(i.useState)(!1),o=Object(d.a)(l,2),b=o[0],u=o[1],_=Object(i.useState)(!1),h=Object(d.a)(_,2),O=h[0],x=h[1],g=Object(i.useMemo)((function(){if(0===s.length)return[];var e=Object(C.a)(s);switch(t.get("sort")){case"age":default:e.sort((function(e,t){return t.year-e.year}));break;case"name":e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"price":e.sort((function(e,t){return e.price-t.price}))}var c=t.get("query");return c?e.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())})):e}),[t.get("sort"),t.get("query"),s]),v=Object(i.useMemo)((function(){var e=t.get("perPage"),c=e&&+e?+e:16;return Math.ceil(g.length/c)}),[t.get("perPage"),g]);Object(i.useEffect)((function(){u(!0),F().then((function(e){r(e)})).finally((function(){return u(!1)}))}),[]);var f=Object(i.useMemo)((function(){var e=t.get("sort");return Object.keys(Y).find((function(t){return Y[t]===e}))||"Newest"}),[t.get("sort")]),N=function(e){x((function(t){return t!==e&&e}))},y=function(e){e.relatedTarget&&e.relatedTarget.classList.contains("dropdown__link")||x(!1)};return 0!==s.length&&0===g.length?Object(m.jsx)($,{}):Object(m.jsxs)("main",{className:"main",children:[t.get("query")?Object(m.jsx)("div",{className:"main__header main__header--results",children:Object(m.jsx)("div",{className:"main__description",children:"".concat(g.length," result").concat(1===g.length?"":"s")})}):Object(m.jsxs)("div",{className:"main__header",children:[Object(m.jsx)(H,{currentPage:"Phones"}),Object(m.jsx)("h1",{className:"main__title main__title--page",children:"Mobile phones"}),!b&&0!==s.length&&Object(m.jsx)("div",{className:"main__description",children:"".concat(s.length," models")})]}),b&&Object(m.jsx)(G,{}),!b&&0!==g.length&&Object(m.jsxs)("section",{className:"main__section",children:[!t.get("query")&&Object(m.jsxs)("div",{className:"main__dropdown dropdown",children:[Object(m.jsxs)("div",{className:"dropdown__menu",children:[Object(m.jsxs)("div",{className:"dropdown__trigger",children:[Object(m.jsx)("div",{className:"dropdown__description",children:"Sort by"}),Object(m.jsxs)("button",{type:"button",className:"dropdown__button",onClick:function(){return N("Sort by")},onBlur:y,children:[Object(m.jsx)("span",{className:"dropdown__text",children:f}),Object(m.jsx)("span",{className:"dropdown__icon",children:"Sort by"===O?Object(m.jsx)("img",{src:"/image/arrow-up.svg",alt:"arrow-up"}):Object(m.jsx)("img",{src:"/image/arrow-down.svg",alt:"arrow-down"})})]})]}),Object(m.jsx)("div",{className:j()("dropdown__content",{"dropdown__content--open":"Sort by"===O}),children:Object.keys(Y).map((function(e){return Object(m.jsx)("div",{className:"dropdown__item",children:Object(m.jsx)(n.b,{to:{search:p(t,{sort:Y[e]}).toString()},className:j()("dropdown__link",{"dropdown__link--active":"Sort by"===O}),onClick:function(){return x(!1)},children:e})},e)}))})]}),Object(m.jsxs)("div",{className:"dropdown__menu",children:[Object(m.jsxs)("div",{className:"dropdown__trigger",children:[Object(m.jsx)("div",{className:"dropdown__description",children:"Items on page"}),Object(m.jsxs)("button",{type:"button",className:"dropdown__button dropdown__button--count",onClick:function(){return N("Items on page")},onBlur:y,children:[Object(m.jsx)("span",{className:"dropdown__text",children:t.get("perPage")||T}),Object(m.jsx)("span",{className:"dropdown__icon",children:"Items on page"===O?Object(m.jsx)("img",{src:"/image/arrow-up.svg",alt:"arrow-up"}):Object(m.jsx)("img",{src:"/image/arrow-down.svg",alt:"arrow-down"})})]})]}),Object(m.jsx)("div",{className:j()("dropdown__content dropdown__content--count",{"dropdown__content--open":"Items on page"===O}),children:U.map((function(e){return Object(m.jsx)("div",{className:"dropdown__item",children:Object(m.jsx)(n.b,{to:{search:p(t,{page:"1",perPage:e}).toString()},className:j()("dropdown__link",{"dropdown__link--active":"Items on page"===O}),onClick:function(){return x(!1)},children:e})},e)}))})]})]}),Object(m.jsx)(D,{products:g}),"All"!==t.get("perPage")&&v>1&&Object(m.jsx)(J,{countPagination:v})]})]})},X=function(e){var t=e.page;return Object(m.jsxs)("main",{className:"main main--not-found",children:[Object(m.jsx)("h1",{className:"main__title",children:"Oops!"}),Object(m.jsxs)("div",{className:"main__text",children:["Apologies for the inconvenience, but the",Object(m.jsx)("span",{className:"main__span",children:" ".concat(t," ")}),"are not available yet!",Object(m.jsx)("br",{}),"We appreciate your understanding."]}),Object(m.jsxs)("div",{className:"main__text",children:["Perhaps you would like to navigate to the",Object(m.jsx)(n.b,{to:"/",children:Object(m.jsx)("span",{className:"main__span",children:" Home page "})}),"?"]})]})},z=function(){return Object(m.jsx)(X,{page:"tablets"})},Q=function(){return Object(m.jsx)(X,{page:"accessories"})},Z=function(e){var t=e.category;return Object(m.jsxs)("section",{className:"main__no-results",children:[Object(m.jsx)("h1",{className:"main__title main__title--development",children:"Your ".concat(t," is empty")}),Object(m.jsx)("img",{src:"/image/noResults.png",alt:"No results",className:"main__no-results-image"})]})},K=function(){var e=Object(n.d)(),t=Object(d.a)(e,1)[0],c=Object(i.useContext)(u).favorites,a=Object(i.useMemo)((function(){if(0===c.length)return[];var e=Object(C.a)(c),a=t.get("query");return a?e.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})):e}),[t.get("query"),c]);return 0!==c.length&&0===a.length?Object(m.jsx)($,{}):Object(m.jsxs)("main",{className:"main main--page",children:[t.get("query")&&0!==c.length&&Object(m.jsx)("div",{className:"main__header main__header--results",children:Object(m.jsx)("div",{className:"main__description",children:"".concat(a.length," result").concat(1===a.length?"":"s")})}),(!t.get("query")||0===c.length)&&Object(m.jsxs)("div",{className:"main__header",children:[Object(m.jsx)(H,{currentPage:"Favorites"}),Object(m.jsx)("h1",{className:"main__title main__title--page",children:"Favorites"}),0!==c.length&&Object(m.jsx)("div",{className:"main__description",children:"".concat(c.length," item").concat(1!==c.length?"s":"")})]}),0===c.length&&Object(m.jsx)(Z,{category:"favorites"}),0!==a.length&&Object(m.jsx)("section",{className:"main__section",children:Object(m.jsx)(D,{products:a})})]})},V=(c(42),l.a.memo((function(){var e=Object(r.n)().state;return Object(m.jsxs)(n.b,{to:{pathname:(null===e||void 0===e?void 0:e.pathname)||"..",search:null===e||void 0===e?void 0:e.search},className:"back","data-cy":"backButton",children:[Object(m.jsx)("img",{src:"./image/arrow-left.svg",alt:"arrow",className:"back__arrow"}),Object(m.jsx)("span",{className:"back__text",children:"Back"})]})}))),ee=function(){var e=Object(i.useContext)(u),t=e.cart,c=e.setCart,a=Object(i.useState)(!1),s=Object(d.a)(a,2),r=s[0],l=s[1],o=Object(i.useMemo)((function(){return t.reduce((function(e,t){return e+t.product.price*t.quantity}),0)}),[t]),b=Object(i.useMemo)((function(){return t.reduce((function(e,t){return e+t.quantity}),0)}),[t]);return Object(m.jsxs)("main",{className:"main",children:[Object(m.jsxs)("div",{className:"main__header",children:[Object(m.jsx)(V,{}),Object(m.jsx)("h1",{className:"main__title",children:"Cart"})]}),0===t.length&&Object(m.jsx)(Z,{category:"cart"}),0!==t.length&&Object(m.jsxs)("section",{className:"main__cart cart",children:[Object(m.jsx)("div",{className:"cart__list",children:t.map((function(e){var a=e.id,s=e.quantity,r=e.product,i=r.image,l=r.name,o=r.price,d=r.phoneId;return Object(m.jsxs)("div",{className:"cart__card",children:[Object(m.jsx)("button",{type:"button",className:"cart__close",onClick:function(){return function(e){c(t.filter((function(t){return t.id!==e})))}(a)},"data-cy":"cartDeleteButton"}),Object(m.jsx)(n.b,{to:"/phones/".concat(d),className:"cart__image-wrapper",children:Object(m.jsx)("img",{className:"cart__image",src:"./_new/".concat(i),alt:l})}),Object(m.jsx)(n.b,{to:"/phones/".concat(d),className:"cart__name",children:"".concat(l)}),Object(m.jsxs)("div",{className:"cart__buttons",children:[Object(m.jsx)("button",{type:"button",className:j()("cart__button cart__button--minus",{"cart__button--disabled":1===s}),onClick:function(){return function(e){c(t.map((function(t){return t.id===e.id?Object(A.a)(Object(A.a)({},e),{},{quantity:e.quantity-1}):t})))}(e)},disabled:1===s}),Object(m.jsx)("span",{className:"cart__count",children:s}),Object(m.jsx)("button",{type:"button",className:"cart__button cart__button--plus",onClick:function(){return function(e){c(t.map((function(t){return t.id===e.id?Object(A.a)(Object(A.a)({},e),{},{quantity:e.quantity+1}):t})))}(e)}})]}),Object(m.jsx)("h2",{className:"cart__card-price",children:"$".concat(o)})]},a)}))}),Object(m.jsxs)("div",{className:"cart__total",children:[Object(m.jsx)("h1",{className:"cart__title",children:"$".concat(o)}),Object(m.jsx)("div",{className:"cart__description","data-cy":"productQauntity",children:"Total for ".concat(b," item").concat(1===b?"":"s")}),Object(m.jsx)("div",{className:"cart__line"}),Object(m.jsx)("button",{type:"button",className:"cart__checkout",onClick:function(){return l(!0)},children:"Checkout"}),r&&Object(m.jsxs)("div",{className:"cart__message",children:[Object(m.jsx)("button",{type:"button",className:"cart__close cart__close--message",onClick:function(){return l(!1)}}),Object(m.jsx)("p",{className:"cart__paragraph",children:"We are sorry, but this feature is not implemented yet"})]})]})]})]})},te={black:"#000",coral:"#FF7F50",gold:"#FCDBC1",green:"#87CEFA",midnightgreen:"#5F7170",purple:"#CBB1FF",red:"#F00",rosegold:"#FCBAAA",silver:"#C0C0C0",spacegray:"#4C4C4C",white:"#FFF",yellow:"yellow"},ce=function(){var e=Object(r.n)().pathname,t=Object(r.r)().productId,c=Object(i.useState)(null),a=Object(d.a)(c,2),s=a[0],l=a[1],o=Object(i.useState)(null),b=Object(d.a)(o,2),u=b[0],_=b[1],h=Object(i.useState)(""),O=Object(d.a)(h,2),x=O[0],p=O[1],g=Object(i.useState)(!1),v=Object(d.a)(g,2),f=v[0],N=v[1],y=Object(i.useState)(!1),w=Object(d.a)(y,2),k=w[0],C=w[1];Object(i.useEffect)((function(){var e;t&&(C(!1),N(!0),F().then((function(e){var c=e.find((function(e){return e.phoneId===t}));l(c)})),(e=t,fetch("".concat(q,"/").concat(e,".json")).then((function(e){if(!e.ok)throw new Error;return e.json()}))).then((function(e){_(e),p(e.images[0])})).catch((function(){return C(!0)})).finally((function(){N(!1)})))}),[t]);var P=function(e){return u?"/phones/".concat(u.namespaceId,"-").concat(u.capacity.toLowerCase(),"-").concat(e):".."},A=function(e){return u?"/phones/".concat(u.namespaceId,"-").concat(e.toLowerCase(),"-").concat(u.color):".."};return Object(m.jsxs)(m.Fragment,{children:[k&&Object(m.jsxs)("main",{className:"main main--not-found",children:[Object(m.jsx)("h1",{className:"main__title main__title--development",children:"Phone was not found"}),Object(m.jsxs)("div",{className:"main__text",children:["Perhaps you would like to navigate to the",Object(m.jsx)(n.b,{to:{pathname:"/"},children:Object(m.jsx)("span",{className:"main__span",children:" Home page "})}),"?"]})]}),!k&&f&&Object(m.jsx)(G,{}),!k&&!f&&u&&Object(m.jsxs)("main",{className:"main main--page",children:[Object(m.jsxs)("div",{className:"main__header",children:[Object(m.jsx)(H,{currentPage:u.name}),Object(m.jsx)(V,{}),Object(m.jsx)("h1",{className:"main__title",children:u.name})]}),Object(m.jsxs)("section",{className:"main__section detail",children:[Object(m.jsxs)("div",{className:"detail__galary galary",children:[Object(m.jsx)("ul",{className:"galary__list",children:u.images.map((function(t){return Object(m.jsx)("li",{className:"galary__item",children:Object(m.jsx)(n.b,{to:{pathname:e},className:j()("galary__link",{"galary__link--selected":t===x}),onClick:function(){return p(t)},children:Object(m.jsx)("img",{src:"/_new/".concat(t),alt:t,className:"galary__image"})})},t)}))}),Object(m.jsx)("div",{className:"galary__main-image",children:Object(m.jsx)("img",{src:"/_new/".concat(x),alt:x,className:"galary__main-image"})})]}),Object(m.jsxs)("div",{className:"detail__right",children:[Object(m.jsxs)("div",{className:"detail__info",children:[Object(m.jsxs)("div",{className:"detail__wrapper",children:[Object(m.jsx)("div",{className:"detail__text",children:"Available colors"}),Object(m.jsx)("div",{className:"detail__colors",children:u.colorsAvailable.map((function(e){return Object(m.jsx)(n.b,{to:{pathname:P(e)},className:j()("detail__color",{"detail__color--active":u.color===e}),children:Object(m.jsx)("span",{className:"detail__circle",style:{backgroundColor:te[e]}})},e)}))}),Object(m.jsx)("div",{className:"detail__line"})]}),Object(m.jsxs)("div",{className:"detail__wrapper",children:[Object(m.jsx)("div",{className:"detail__text",children:"Select capacity"}),Object(m.jsx)("div",{className:"detail__capacities",children:u.capacityAvailable.map((function(e){return Object(m.jsx)(n.b,{to:{pathname:A(e)},className:j()("detail__capacity",{"detail__capacity--active":u.capacity===e}),children:e.replace("GB"," GB")},e)}))}),Object(m.jsx)("div",{className:"detail__line"})]}),Object(m.jsxs)("div",{className:"detail__price-block",children:[Object(m.jsxs)("div",{className:"detail__prices",children:[Object(m.jsx)("div",{className:"detail__price",children:"$".concat(u.priceDiscount)}),Object(m.jsx)("div",{className:"detail__full-price",children:"$".concat(u.priceRegular)})]}),s&&Object(m.jsx)(S,{card:s,info:"detail"})]}),Object(m.jsxs)("div",{className:"detail__chars",children:[Object(m.jsxs)("div",{className:"detail__char",children:[Object(m.jsx)("div",{className:"detail__char-name",children:"Screen"}),Object(m.jsx)("div",{className:"detail__param",children:u.screen})]}),Object(m.jsxs)("div",{className:"detail__char",children:[Object(m.jsx)("div",{className:"detail__char-name",children:"Resolution"}),Object(m.jsx)("div",{className:"detail__param",children:u.resolution})]}),Object(m.jsxs)("div",{className:"detail__char",children:[Object(m.jsx)("div",{className:"detail__char-name",children:"Processor"}),Object(m.jsx)("div",{className:"detail__param",children:u.processor})]}),Object(m.jsxs)("div",{className:"detail__char",children:[Object(m.jsx)("div",{className:"detail__char-name",children:"RAM"}),Object(m.jsx)("div",{className:"detail__param",children:u.ram.replace("GB"," GB")})]})]})]}),Object(m.jsx)("div",{className:"detail__id"})]}),Object(m.jsxs)("div",{"data-cy":"productDescription",children:[Object(m.jsx)("h2",{className:"detail__title",children:"About"}),Object(m.jsxs)("div",{className:"detail__about",children:[Object(m.jsx)("div",{className:"detail__line"}),u.description.map((function(e){var t=e.text,c=e.title;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"detail__subtitle",children:c}),Object(m.jsx)("div",{className:"detail__description",children:t})]},c)}))]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"detail__title",children:"Tech specs"}),Object(m.jsx)("div",{className:"detail__line"}),Object(m.jsxs)("ul",{className:"detail__list",children:[Object(m.jsxs)("li",{className:"detail__item",children:[Object(m.jsx)("div",{className:"detail__description",children:"Screen"}),Object(m.jsx)("div",{children:u.screen})]}),Object(m.jsxs)("li",{className:"detail__item",children:[Object(m.jsx)("div",{className:"detail__description",children:"Resolution"}),Object(m.jsx)("div",{children:u.resolution})]}),Object(m.jsxs)("li",{className:"detail__item",children:[Object(m.jsx)("div",{className:"detail__description",children:"Processor"}),Object(m.jsx)("div",{children:u.processor})]}),Object(m.jsxs)("li",{className:"detail__item",children:[Object(m.jsx)("div",{className:"detail__description",children:"RAM"}),Object(m.jsx)("div",{children:u.ram})]}),Object(m.jsxs)("li",{className:"detail__item",children:[Object(m.jsx)("div",{className:"detail__description",children:"Built in memory"}),Object(m.jsx)("div",{children:u.capacity})]}),Object(m.jsxs)("li",{className:"detail__item",children:[Object(m.jsx)("div",{className:"detail__description",children:"Camera"}),Object(m.jsx)("div",{children:u.camera})]}),Object(m.jsxs)("li",{className:"detail__item",children:[Object(m.jsx)("div",{className:"detail__description",children:"Zoom"}),Object(m.jsx)("div",{children:u.zoom})]}),Object(m.jsxs)("li",{className:"detail__item",children:[Object(m.jsx)("div",{className:"detail__description",children:"Cell"}),Object(m.jsx)("div",{children:u.cell.join(", ")})]})]})]})]}),Object(m.jsx)("section",{className:"main__section",children:Object(m.jsx)(E,{section:"You may also like"})})]})]})},ae=function(){return Object(m.jsx)(n.a,{children:Object(m.jsx)(_,{children:Object(m.jsx)(r.e,{children:Object(m.jsxs)(r.c,{path:"/",element:Object(m.jsx)(N,{}),children:[Object(m.jsx)(r.c,{path:"*",element:Object(m.jsx)(R,{})}),Object(m.jsx)(r.c,{index:!0,element:Object(m.jsx)(L,{})}),Object(m.jsx)(r.c,{path:"home",element:Object(m.jsx)(r.a,{to:"/"})}),Object(m.jsxs)(r.c,{path:"phones",children:[Object(m.jsx)(r.c,{index:!0,element:Object(m.jsx)(W,{})}),Object(m.jsx)(r.c,{path:":productId",element:Object(m.jsx)(ce,{})})]}),Object(m.jsx)(r.c,{path:"tablets",element:Object(m.jsx)(z,{})}),Object(m.jsx)(r.c,{path:"accessories",element:Object(m.jsx)(Q,{})}),Object(m.jsx)(r.c,{path:"favorites",element:Object(m.jsx)(K,{})}),Object(m.jsx)(r.c,{path:"cart",element:Object(m.jsx)(ee,{})})]})})})})};s.a.render(Object(m.jsx)(ae,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e7902b8d.chunk.js.map